{% extends 'navigation.html' %}
{% load static %}

{% block title %}Signup | NoteStack{% endblock %}

{% block body %}

<section class="auth-page">
  <div class="container">

    <div class="auth-card">

      <!-- LEFT: FORM -->
      <div class="auth-form">
        <h1>Create an account</h1>
        <p class="subtitle">
          Join NoteStack to manage and share notes securely.
        </p>

        {% if error == "no" %}
          <div class="alert success">
            ✅ Signup successful. Redirecting to login…
          </div>
          <script>
            setTimeout(() => {
              window.location.href = "{% url 'login' %}";
            }, 1500);
          </script>
        {% endif %}

        {% if error == "yes" %}
          <div class="alert error">
            ❌ Something went wrong. Please try again.
          </div>
        {% endif %}

        <form method="post">
          {% csrf_token %}

          <div class="form-grid">
            <input type="text" name="firstname" placeholder="First name" required>
            <input type="text" name="lastname" placeholder="Last name" required>
          </div>

          <input type="number" name="contact" placeholder="Contact number" required>
          <input type="email" name="emailid" placeholder="Email address" required>
          <input type="password" name="password" placeholder="Password" required>

          <select name="branch" required>
            <option value="">Select course</option>
            <option value="BCA">BCA</option>
            <option value="MCA">MCA</option>
            <option value="Btech">BTech</option>
            <option value="MTech">MTech</option>
            <option value="Computer Science">Computer Science</option>
            <option value="IT">IT</option>
          </select>

          <select name="role" required>
            <option value="">Select role</option>
            <option value="Student">Student</option>
            <option value="Teacher">Teacher</option>
          </select>

          <button type="submit" class="btn-primary full-width">
            Create Account
          </button>
        </form>

        <p class="auth-footer-text">
          Already have an account?
          <a href="{% url 'login' %}">Login</a>
        </p>
      </div>

      <!-- RIGHT: IMAGE -->
      <div class="auth-image">
        <img src="{% static 'images/Taking notes-amico.png' %}" alt="Signup illustration">
      </div>

    </div>

  </div>
</section>

{% endblock %}
